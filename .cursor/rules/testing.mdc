---
description: "Testing guidelines for SatWatch project"
globs: ["tests/**/*.py", "**/*_test.py"]
alwaysApply: false
---

# Testing Guidelines

## Testing Framework
- Use **pytest** for all tests
- Test files should be named `test_*.py` or `*_test.py`
- Place tests in `tests/` directory

## Test Structure
- One test file per module
- Use descriptive test function names: `test_calculate_position_with_valid_tle`
- Group related tests in classes when appropriate

## Coverage Goals
- Aim for 80%+ coverage on core functionality
- Focus on critical paths: TLE parsing, position calculations
- Mock external API calls (CelesTrak)

## Example Test Pattern
```python
import pytest
from satwatch.tracker import calculate_position

def test_calculate_position_with_valid_tle():
    """Test position calculation with valid TLE data."""
    tle_data = "ISS\n1 25544U 98067A   24123.4567890  .00001234  00000+0  12345-4 0  9999\n2 25544  51.6442 123.4567 0001234  0.0000  0.0000 15.49123456 12345"
    result = calculate_position(tle_data)
    assert result is not None
    assert -90 <= result[0] <= 90  # Latitude
    assert -180 <= result[1] <= 180  # Longitude
```

## Mocking External Services
- Always mock CelesTrak API calls in tests
- Use `pytest.fixture` for reusable test data
- Test error handling (network failures, invalid TLE)
